return x;
}
')
x
init(x)
cppFunction('NumericVector increment(NumericVector &x) {
x[0] += 1;
}
')
cppFunction('void increment(NumericVector &x) {
x[0] += 1;
}
')
x <- 0
for (i = 1:10) {
increment(x)
}
x
x <- 0
for (i in 1:10) {
increment(x)
}
x
cppFunction('NumericVector increment(NumericVector &x) {
x[0] += 1;
return x
}
')
x <- 0
for (i in 1:10) {
x <- increment(x)
}
cppFunction('NumericVector increment(NumericVector &x) {
x[0] += 1;
return x;
}
')
x <- 0
for (i in 1:10) {
x <- increment(x)
}
x
cppFunction('NumericVector increment(NumericVector x) {
x[0] += 1;
return x;
}
')
x <- 0
for (i in 1:10) {
x <- increment(x)
}
x
source("~/test.cpp)")
sourceCpp("~/test.cpp")
x
x <- 0
for (i in 1:10) {
x <- increment(x)
}
x
f <- function(x) {
return(increment(x)
}
f <- function(x) {
return(increment(x))
}
for (i in 1:10) {
x <- f(x)
}
x
x <- 0
for (i in 1:10) {
x <- f(x)
}
x
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
A <- matrix(1:4, 2, 2)
a
A
foo(A = A)
file.edit("~/RerF/Code/Classifiers/rfr_cpp.R")
a <- double(10)
a
a[] <- 1L
a
class(a)
source("~/test.cpp")
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
require(RcppArmadillo)
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
seq_along(10)
seq(10)
seq.int(10)
rm(list = ls())
library(Rcpp)
library(compiler)
setCompilerOptions("optimize" = 3)
sourceCpp("~/test.cpp")
sumR.cmp <- cmpfun(function(n, x) {
for (i in seq.int(n)) {
s <- 0
for (j in seq_along(x)) {
s <- s + x[j]
}
}
return s
})
sumR.cmp <- cmpfun(function(n, x) {
for (i in seq.int(n)) {
s <- 0
for (j in seq_along(x)) {
s <- s + x[j]
}
}
return(s)
})
sumR.cmp
sumC.cmp <- cmpfun(function(n, x) {
for (i in seq.int(n)) {
s <- sumC(x)
}
return s
})
sumC.cmp <- cmpfun(function(n, x) {
for (i in seq.int(n)) {
s <- sumC(x)
}
return(s)
})
x <- seq.int(1e7)
n <- 20L
x <- rep(1, 1e6)
class(x)
x <- rep(1, 1e6)
n <- 20L
st <- proc.time()
sumR.cmp(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumC.cmp(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumR.cmp(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumC.cmp(n, x)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumC.cmp(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumC.cmp(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumC.cmp(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
st <- proc.time()
sumC.cmp(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumC.cmp(n, x)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
v <- rep(1, length(x)*10L)
length(v)
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
x <- rep(1, 1e7)
v <- rep(1, length(x)*10L)
n <- 30L
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x, v)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
st <- proc.time()
sumCC(n, x)
(proc.time() - st)[3]
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
sourceCpp("~/test.cpp")
y <- integer(10)
Ytrain
Ytrain <- double(10)
y[1:10] <- Ytrain
class(y)
file.edit("~/RerF/Code/Classifiers/rfr_test.R")
tabulate(sample(0:9, 100), 10L)
tabulate(sample(0:9, 100, replace = T), 10L)
?tabulate
s <- sample(0:9, 10, replace = T)
s
tabulate(s, 10L)
tabulate(s+1, 10L)
file.edit(("~/RerF/Code/Classifiers/rfr_cpp2.R"))
.4*.125/5.125
40*.125/5.125
as.double(NA)
asdf <- as.double(NA)
class(asdf)
asdf
asdf <- NA
class(NA)
object.size(double(10))
object.size(integer(10))
seq.int(10)
seq.int(5)
n <- 1e4L
sourceCpp("~/test.cpp")
object.size(integer(6e3))
library(plyr)
library(pryr)
address(1)
x <- integer(100)
address(x)
x <- integer(100)
address(x)
y <- integer(100)
address(y)
y <- integer(100)
address(y)
y <- y
address(y)
y[] <- 0L
address(y)
address(y[1L])
address(y)
t
y
y[1L] <- 1L
address(y)
ls()
x
x <- 1:10
refs(x)
refs(y)
rm(list = ls())
x <- 1:10
refs(x)
address(x)
x
x
y
class(x)
y <- x + 1L
address(x)
address(y)
file.edit("~/RerF/Code/Classifiers/rfr_cpp2.R")
x <- matrix(0, 2, 3)
x
x[] <- 1:6
x
class(x)
class(x[1])
paste0("a", 1)
t <- proc.time()[3]
t
t[1]
t[[1]]
t <- proc.time()[[3]]
t
proc.time()
proc.time() - proc.time()
st <- proc.time(); sleep(1); et <- (proc.time() - st)[[3]]
st <- proc.time(); pause(1); et <- (proc.time() - st)[[3]]
st <- proc.time(); Sys.sleep(1); et <- (proc.time() - st)[[3]]
et
st
file.edit("~/R-RerF/rfr_function.R")
X
is.matrix(c(1,2))
is.matrix(as.matrix(c(1,2))
)
as.matrix(c(1,2))
file.edit("RerF/Code/Utils/rank.R")
oob.error
file.edit("~/RerF/Code/Classifiers/rerf_eval.R")
file.edit("~/RerF/Code/Classifiers/rerf_eval2.R")
dataSets <- c("Sparse_parity", "Trunk", "Orthant", "mnist")
trainTime <- list()
OOBError <- list()
numNodes <- list()
testError <- list()
seed <- list()
file.edit("~/RerF/Code/Utils/strcorr.R")
file.edit"~/RerF/Code/Classifiers/rfr_test.R"
file.edit"~/RerF/Code/Classifiers/rfr_test.R")
file.edit("~/RerF/Code/Classifiers/rfr_test.R")
file.edit("~/RerF/Code/Classifiers/rfr_test.R")
file.edit("~/RerF/Code/Classifiers/rfr_function.R")
?sourceCpp
getwd()
rm(list = ls())
source("RerF/Code/Classifiers/rfr_function.R")
source("RerF/Code/Classifiers/rfr_function.R", chdir = "~/RerF/Code/Classifiers/")
source("RerF/Code/Classifiers/rfr_function.R", chdir = "/Users/tyler/RerF/Code/Classifiers/")
source("RerF/Code/Classifiers/rfr_function.R", chdir = "/Users/tyler/RerF/Code/Classifiers")
source("RerF/Code/Classifiers/rfr_function.R", chdir = T)
setwd("RerF/Code/Experiments/2017.08.26/Sparse_parity/")
list.files()
file.edit("run_Sparse_parity_rerf_2017_06_19.R")
file.edit("run_Sparse_parity_rerf_2017_08_26.R")
file.edit("~/RerF/Code/Classifiers/rerf_eval.R")
seq.int(10)
file.edit("~/R-RerF/rfr_function.R")
require(auc)
require(AUC)
"c" - 1
mode(1)
file.edit("~/RerF/Code/Experiments/2017.07.17/run_abalone_2017_07_17.R")
l <- vector("list", 3)
l
names(l) <- c("a", "b", "c")
l
array(dim = c(2,2,3,4))
u <- array(dim = c(2,2,3,4))
u[1, 1, c(1, 3), 1] <- runif(2)
u
u
u[1, 1, , ] <- 1
u
u[1, 1, , ] <- 1:12
u
setwd("~/RerF/Code/Experiments/2017.08.28/Sparse_parity/")
file.edit("run_Sparse_parity_rerf_2017_08_28.R")
vector(mode = "double", length = 10)
class(NA)
rep(NA, 10)
250*9
250*9*10
250*9*10/3600
500/40
520/40
Xtrain
vector(mode = "integer", length = 1.4)
vector(mode = "integer", length = NA)
a <- matrix(0, 2, 2)
a
a[1L, ]
a[1L, , drop=F]
nrow(a[1L, , drop=F])
nrow(a[1L, , drop=T])
require(SuppDists)
rziggurat(1)
rziggurat(1, seed = 1L)
sqrt(2)
1.5/1
1.5/2
